{"version":3,"sources":["App.js","Counters.js","registerServiceWorker.js","index.js"],"names":["Line","FormatedAmount","total","amount","value","currency","code","minority","Counters","totalProfit","interval","className","size","calculateDataFactory","investments","startCapital","intervals","rate","pRate","Number","pInvestments","pStartCapital","pIntervals","dataPoints","i","lastPoint","calculateData","App","state","handleRatioForm","setState","handleInvestments","handleStartCapital","handleInterval","reactChartJs2","ChartJs","this","forceUpdate","options","label","onChange","String","type","width","dataPoints0","dataPoints25","dataPoints75","dataPoints100","diff","percent","baseStyle","fill","lineTension","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBorderWidth","pointRadius","pointHitRadius","pointHoverBorderColor","data","labels","Array","Math","max","keys","map","item","datasets","backgroundColor","borderColor","pointBorderColor","pointHoverBackgroundColor","AMOUNT","REINVEST","length","toFixed","heigth","invest0","invest25","invest75","invest100","theme","renderRatioForm","renderInvestments","renderStartCapital","renderInterval","renderChart","Component","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"2OASIA,E,2NCDEC,G,MAAiB,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OACrB,kBAAC,IAAD,CACEC,OAAQ,CACNC,MALW,IAKJF,EACPG,SAAU,CACRC,KAAM,MACNC,SARS,UAcJC,EAAW,SAAC,GAAD,IAAGC,EAAH,EAAGA,YAAaC,EAAhB,EAAgBA,SAAhB,OACtB,yBAAKC,UAAU,YACb,kBAAC,IAAD,CAASC,KAAK,KAAd,uGACA,kBAAC,IAAD,mCACS,kBAAC,EAAD,CAAgBV,MAAOO,GAAeC,EAAW,OAE1D,kBAAC,IAAD,+CACW,kBAAC,EAAD,CAAgBR,MAAOO,EAAcC,KAEhD,kBAAC,IAAD,0CACW,kBAAC,EAAD,CAAgBR,MAAOO,EAAcC,EAAW,MAE3D,kBAAC,IAAD,oCACU,kBAAC,EAAD,CAAgBR,MAAOO,EAAcC,EAAW,GAAK,MAE/D,kBAAC,IAAD,sDAEE,kBAAC,EAAD,CAAgBR,MAAOO,EAAcC,EAAW,GAAK,GAAK,MAE5D,kBAAC,IAAD,4DAEE,kBAAC,EAAD,CAAgBR,MAAOO,EAAcC,EAAW,GAAK,GAAK,GAAK,Q,yjBD9BrE,IAoBMG,EAAuB,SAACC,EAAaC,EAAcC,GAA5B,OAA0C,SAAAC,GAAI,OApBrD,WAYpB,IAPI,IAJJA,EAIG,uDAJI,EACPH,EAGG,uDAHW,EACdC,EAEG,uDAFY,EACfC,EACG,uDADS,EAENE,EAAQC,OAAOF,GACfG,EAAeD,OAAOL,GACtBO,EAAgBF,OAAOJ,GACvBO,EAAaH,OAAOH,GAAa,EACjCO,EAAa,CAACF,GAEXG,EAAI,EAAGA,EAAIF,EAAYE,IAAK,CACnC,IAAMC,EAAYF,EAAWC,EAAI,GACjCD,EAAWC,GAAKJ,EAAeK,GAAa,EAAIP,EAAQ,GAAK,KAG/D,OAAOK,EAIPG,CAAcT,EAAMH,EAAaC,EAAcC,KAyOlCW,E,2MAtObC,MAAQ,CACNX,KAAM,EACNH,YAAa,IACbC,aAAc,IACdL,SAAU,I,EAYZmB,gBAAkB,SAAAzB,GAChB,EAAK0B,SAAS,CAAEb,KAAMb,K,EAGxB2B,kBAAoB,SAAA3B,GAClB,EAAK0B,SAAS,CAAEhB,YAAaV,K,EAG/B4B,mBAAqB,SAAA5B,GACnB,EAAK0B,SAAS,CAAEf,aAAcX,K,EAGhC6B,eAAiB,SAAA7B,GACf,EAAK0B,SAAS,CAAEpB,SAAUN,K,sMArBrBuB,EAAIO,c,gCACe,8B,OAAhBC,E,OACNnC,EAAOmC,EAAQnC,KAEfoC,KAAKC,c,wLAuBP,IAAMC,EAAU,CACdC,MAAO,wGACPC,SAAUJ,KAAKP,gBACfzB,MAAOqC,OAAOL,KAAKR,MAAMX,MACzByB,KAAM,SACNC,MAAO,aAET,OAAO,kBAAC,IAAUL,K,0CAIlB,IAAMA,EAAU,CACdC,MAAO,yKACPC,SAAUJ,KAAKL,kBACf3B,MAAOqC,OAAOL,KAAKR,MAAMd,aACzB4B,KAAM,SACNC,MAAO,aAET,OAAO,kBAAC,IAAUL,K,2CAIlB,IAAMA,EAAU,CACdC,MAAO,2IACPC,SAAUJ,KAAKJ,mBACf5B,MAAOqC,OAAOL,KAAKR,MAAMb,cACzB2B,KAAM,SACNC,MAAO,aAET,OAAO,kBAAC,IAAUL,K,uCAIlB,IAAMA,EAAU,CACdC,MAAO,6JACPC,SAAUJ,KAAKH,eACf7B,MAAOqC,OAAOL,KAAKR,MAAMlB,UACzBgC,KAAM,SACNC,MAAO,aAET,OAAO,kBAAC,IAAUL,K,kCAIlBM,EACAC,EACAC,EACAC,EACAC,EACAC,GACC,IACOvC,EAAY0B,KAAKR,MAAjBlB,SAKFwC,EAAY,CAChBC,MAAM,EACNC,YAAa,GACbC,eAAgB,OAChBC,WAAY,GACZC,iBAAkB,EAClBC,gBAAiB,QACjBC,qBAAsB,OACtBC,iBAAkB,EAClBC,iBAAkB,EAClBC,sBAAuB,EACvBC,YAAa,EACbC,eAAgB,GAChBC,sBAAuB,uBAEnBC,EAAO,CACXC,OApBa,YAAIC,MAAMC,KAAKC,IAAI,EAAG1D,IAAW2D,QAAQC,KACtD,SAAAC,GAAI,OAAIA,EAAO,KAoBfC,SAAU,CAAC,EAAD,GAEHtB,EAFG,CAGNX,MAAO,sJACPkC,gBAAiB,uBACjBC,YAAa,qBACbC,iBAAkB,qBAClBC,0BAA2B,qBAC3BZ,KAAMjB,IARA,KAWHG,EAXG,CAYNX,MAAO,mIACPkC,gBAAiB,yBACjBC,YAAa,mBACbC,iBAAkB,mBAClBlB,qBAAsB,OACtBmB,0BAA2B,mBAC3BZ,KAAMpB,IAlBA,KAqBHM,EArBG,CAsBNX,MAAO,gHACPkC,gBAAiB,0BACjBC,YAAa,oBACbC,iBAAkB,oBAClBlB,qBAAsB,OACtBmB,0BAA2B,oBAC3BZ,KAAMlB,IA5BA,KA+BHI,EA/BG,CAgCNX,MAAO,gHACPkC,gBAAiB,0BACjBC,YAAa,oBACbC,iBAAkB,oBAClBlB,qBAAsB,OACtBmB,0BAA2B,oBAC3BZ,KAAMnB,MAKNgC,EAAS,CACbzE,MAAO4C,EACP3C,SAAU,CACRC,KAAM,MACNC,SAAU,IAIRuE,EAAW,CACf1E,MAFY2C,EAAcA,EAAcgC,OAAS,GAGjD1E,SAAU,CACRC,KAAM,MACNC,SAAU,IAId,OACE,yBAAKI,UAAU,SACb,kBAAC,IAAD,qGADF,IACmC,kBAAC,IAAD,CAAQR,OAAQ0E,IAAW,IAC5D,kBAAC,IAAD,MAAmB,IAAV5B,GAAe+B,QAAQ,GAAhC,MACA,6BACA,kBAAC,IAAD,gMAAiD,IACjD,kBAAC,IAAD,CAAQ7E,OAAQ2E,IAChB,6BACA,yBAAKnE,UAAU,cAEbX,GAAQ,kBAACA,EAAD,CAAMgE,KAAMA,EAAMiB,OAAQ,U,+BAOhC,IAAD,EAC+C7C,KAAKR,MAAnDX,EADD,EACCA,KAAMH,EADP,EACOA,YAAaC,EADpB,EACoBA,aAAcL,EADlC,EACkCA,SAEnCgB,EAAgBb,EACpBC,EACAC,EACAL,GAGIwE,EAAUxD,EAAc,GACxByD,EAAWzD,EAAqB,IAAPT,GACzBmE,EAAW1D,EAAqB,IAAPT,GACzBoE,EAAY3D,EAAcT,GAE1B+B,EAAOqC,EAAUA,EAAUN,OAAS,GAAKG,EAAQA,EAAQH,OAAS,GAClE9B,EAAUD,EAAOkC,EAAQA,EAAQH,OAAS,GAEhD,OACE,kBAAC,IAAD,CAAeO,MAAM,iBACnB,yBAAK3E,UAAU,OACb,kBAAC,IAAD,CAASC,KAAK,MAAd,mIACA,yBAAKD,UAAU,WACb,yBAAKA,UAAU,QACZyB,KAAKmD,kBACLnD,KAAKoD,oBACLpD,KAAKqD,qBACLrD,KAAKsD,kBAER,yBAAK/E,UAAU,iBACb,kBAAC,EAAD,CAAUD,SAAUA,EAAUD,YAAauC,MAG9CZ,KAAKuD,YACJT,EACAC,EACAC,EACAC,EACArC,EACAC,S,GA/NM2C,aExBEC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,MCVNC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,SDgG3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.2e83d7d2.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport Amount from \"arui-feather/amount\";\nimport Input from \"arui-feather/input\";\nimport Heading from \"arui-feather/heading\";\nimport ThemeProvider from \"arui-feather/theme-provider\";\nimport Label from \"arui-feather/label\";\nimport \"./app.css\";\nimport { Counters } from \"./Counters\";\n\nlet Line;\n\nconst calculateData = (\n  rate = 1,\n  investments = 0,\n  startCapital = 0,\n  intervals = 2\n) => {\n  const pRate = Number(rate);\n  const pInvestments = Number(investments);\n  const pStartCapital = Number(startCapital);\n  const pIntervals = Number(intervals) + 1;\n  const dataPoints = [pStartCapital];\n\n  for (let i = 1; i < pIntervals; i++) {\n    const lastPoint = dataPoints[i - 1];\n    dataPoints[i] = pInvestments + lastPoint * (1 + pRate / 12 / 100);\n  }\n\n  return dataPoints;\n};\n\nconst calculateDataFactory = (investments, startCapital, intervals) => rate =>\n  calculateData(rate, investments, startCapital, intervals);\n\nclass App extends Component {\n  state = {\n    rate: 6,\n    investments: 5000,\n    startCapital: 50000,\n    interval: 12\n  };\n\n  async componentDidMount() {\n    if (!App.reactChartJs2) {\n      const ChartJs = await import('react-chartjs-2');\n      Line = ChartJs.Line;\n\n      this.forceUpdate();\n    }\n  }\n\n  handleRatioForm = value => {\n    this.setState({ rate: value });\n  };\n\n  handleInvestments = value => {\n    this.setState({ investments: value });\n  };\n\n  handleStartCapital = value => {\n    this.setState({ startCapital: value });\n  };\n\n  handleInterval = value => {\n    this.setState({ interval: value });\n  };\n\n  renderCurrency() {}\n\n  renderRatioForm() {\n    const options = {\n      label: \"Процентная ставка (%)\",\n      onChange: this.handleRatioForm,\n      value: String(this.state.rate),\n      type: \"number\",\n      width: \"available\"\n    };\n    return <Input {...options} />;\n  }\n\n  renderInvestments() {\n    const options = {\n      label: \"Ежемесячные инвестиции (рублей)\",\n      onChange: this.handleInvestments,\n      value: String(this.state.investments),\n      type: \"number\",\n      width: \"available\"\n    };\n    return <Input {...options} />;\n  }\n\n  renderStartCapital() {\n    const options = {\n      label: \"Стартовый капитал (рублей)\",\n      onChange: this.handleStartCapital,\n      value: String(this.state.startCapital),\n      type: \"number\",\n      width: \"available\"\n    };\n    return <Input {...options} />;\n  }\n\n  renderInterval() {\n    const options = {\n      label: \"Срок инвестирования (месяцев)\",\n      onChange: this.handleInterval,\n      value: String(this.state.interval),\n      type: \"number\",\n      width: \"available\"\n    };\n    return <Input {...options} />;\n  }\n\n  renderChart(\n    dataPoints0,\n    dataPoints25,\n    dataPoints75,\n    dataPoints100,\n    diff,\n    percent\n  ) {\n    const { interval }= this.state;\n    const labels = [...Array(Math.max(1, interval)).keys()].map(\n      item => item + 1\n    );\n\n    const baseStyle = {\n      fill: false,\n      lineTension: 0.1,\n      borderCapStyle: \"butt\",\n      borderDash: [],\n      borderDashOffset: 0.0,\n      borderJoinStyle: \"miter\",\n      pointBackgroundColor: \"#fff\",\n      pointBorderWidth: 1,\n      pointHoverRadius: 5,\n      pointHoverBorderWidth: 2,\n      pointRadius: 1,\n      pointHitRadius: 10,\n      pointHoverBorderColor: \"rgba(220,220,220,1)\"\n    };\n    const data = {\n      labels,\n      datasets: [\n        {\n          ...baseStyle,\n          label: \"Размер денег с инвестициями\",\n          backgroundColor: \"rgba(75,192,192,0.4)\",\n          borderColor: \"rgba(75,192,192,1)\",\n          pointBorderColor: \"rgba(75,192,192,1)\",\n          pointHoverBackgroundColor: \"rgba(75,192,192,1)\",\n          data: dataPoints100\n        },\n        {\n          ...baseStyle,\n          label: \"Накопления под подушкой\",\n          backgroundColor: \"rgba(244, 66, 72, 0.4)\",\n          borderColor: \"rgb(244, 66, 72)\",\n          pointBorderColor: \"rgb(244, 66, 72)\",\n          pointBackgroundColor: \"#fff\",\n          pointHoverBackgroundColor: \"rgb(244, 66, 72)\",\n          data: dataPoints0\n        },\n        {\n          ...baseStyle,\n          label: \"Процент инвестиций x0.75\",\n          backgroundColor: \"rgba(241, 244, 66, 0.4)\",\n          borderColor: \"rgb(241, 244, 66)\",\n          pointBorderColor: \"rgb(241, 244, 66)\",\n          pointBackgroundColor: \"#fff\",\n          pointHoverBackgroundColor: \"rgb(241, 244, 66)\",\n          data: dataPoints75\n        },\n        {\n          ...baseStyle,\n          label: \"Процент инвестиций x0.25\",\n          backgroundColor: \"rgba(119, 66, 244, 0.4)\",\n          borderColor: \"rgb(119, 66, 244)\",\n          pointBorderColor: \"rgb(119, 66, 244)\",\n          pointBackgroundColor: \"#fff\",\n          pointHoverBackgroundColor: \"rgb(119, 66, 244)\",\n          data: dataPoints25\n        }\n      ]\n    };\n\n    const AMOUNT = {\n      value: diff,\n      currency: {\n        code: \"RUR\",\n        minority: 1\n      }\n    };\n    const total = dataPoints100[dataPoints100.length - 1];\n    const REINVEST = {\n      value: total,\n      currency: {\n        code: \"RUR\",\n        minority: 1\n      }\n    };\n\n    return (\n      <div className=\"chart\">\n        <Label>Разница в деньгах</Label> <Amount amount={AMOUNT} />{\" \"}\n        <Label>{(percent * 100).toFixed(2)} %</Label>\n        <br />\n        <Label>Получено за счет реинвестирования</Label>{\" \"}\n        <Amount amount={REINVEST} />\n        <br />\n        <div className=\"line-chart\">\n        {\n          Line && <Line data={data} heigth={5000} />\n        }\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const { rate, investments, startCapital, interval } = this.state;\n\n    const calculateData = calculateDataFactory(\n      investments,\n      startCapital,\n      interval\n    );\n\n    const invest0 = calculateData(0);\n    const invest25 = calculateData(rate * 0.25);\n    const invest75 = calculateData(rate * 0.75);\n    const invest100 = calculateData(rate);\n\n    const diff = invest100[invest100.length - 1] - invest0[invest0.length - 1];\n    const percent = diff / invest0[invest0.length - 1];\n\n    return (\n      <ThemeProvider theme=\"alfa-on-color\">\n        <div className=\"app\">\n          <Heading size=\"xl\">Калькулятор инвестиций</Heading>\n          <div className='finance'>\n            <div className=\"form\">\n              {this.renderRatioForm()}\n              {this.renderInvestments()}\n              {this.renderStartCapital()}\n              {this.renderInterval()}\n            </div>\n            <div className=\"counter-block\">\n              <Counters interval={interval} totalProfit={diff} />\n            </div>\n          </div>\n          {this.renderChart(\n            invest0,\n            invest25,\n            invest75,\n            invest100,\n            diff,\n            percent\n          )}\n        </div>\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport Label from \"arui-feather/label/label\";\nimport \"./counter.css\";\nimport Amount from \"arui-feather/amount\";\nimport Heading from \"arui-feather/heading\";\n\nconst MINORITY = 100000;\n\nconst FormatedAmount = ({ total }) => (\n  <Amount\n    amount={{\n      value: total * MINORITY,\n      currency: {\n        code: \"RUR\",\n        minority: MINORITY\n      }\n    }}\n  />\n);\n\nexport const Counters = ({ totalProfit, interval }) => (\n  <div className=\"counters\">\n    <Heading size='s'>Доход от процентов:</Heading>\n    <Label>\n      в год: <FormatedAmount total={totalProfit / (interval / 12)} />\n    </Label>\n    <Label>\n      в месяц: <FormatedAmount total={totalProfit / interval} />\n    </Label>\n    <Label>\n      в день: ~<FormatedAmount total={totalProfit / interval / 30} />\n    </Label>\n    <Label>\n      в час: ~<FormatedAmount total={totalProfit / interval / 30 / 24} />\n    </Label>\n    <Label>\n      в минуту: ~\n      <FormatedAmount total={totalProfit / interval / 30 / 24 / 60} />\n    </Label>\n    <Label>\n      в секунду: ~\n      <FormatedAmount total={totalProfit / interval / 30 / 24 / 60 / 60} />\n    </Label>\n  </div>\n);\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { unregister } from './registerServiceWorker';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\nunregister();\n"],"sourceRoot":""}